Run the script (default: new session, scrapes all 13 sources and writes DB):
python scrape_and_save.py

(Optional) Ask the script to use only specific sources (max 5):
python scrape_and_save.py --selected src_techcrunch,src_hbr --user-id lakshita --topic "AI Branding"

atlas auth login


✅ OPTION A — Run retention manually (useful while testing)
✔ Keep the last 4 sessions only
python retention_manager_and_wrapper.py --retain-sessions 4

✔ Keep only sessions from the last 7 days
python retention_manager_and_wrapper.py --retain-days 7

✔ Do a DRY RUN (shows what would be deleted — safe)
python retention_manager_and_wrapper.py --retain-sessions 4 --dry-run


Example output:

{
  "kept_count": 4,
  "to_delete_sessions": ["sess_abcd1234", "sess_98de833f"],
  "deleted_articles": 112
}
